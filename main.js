(()=>{"use strict";function e(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",(function(e){r(e)}))}function t(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",(function(e){r(e)}))}function r(e){"Escape"===e.key&&t(document.querySelector(".popup_is-opened"))}function n(e,t,r,n){var o=document.querySelector("#card-template").content.querySelector(".places__item").cloneNode(!0),i=e.name,u=e.link,s=o.querySelector(".card__like-button");return o.querySelector(".card__image").src=u,o.querySelector(".card__image").alt=i,o.querySelector(".card__title").textContent=i,o.querySelector(".card__delete-button").addEventListener("click",(function(){t(o)})),o.querySelector(".card__image").addEventListener("click",(function(){r({name:i,link:u})})),s.addEventListener("click",(function(){n(s)})),o}function o(e){e.classList.toggle("card__like-button_is-active")}function i(e){e.remove()}function u(e){var t=e.formElement,r=e.inputElement,n=e.inputErrorClass,o=e.errorClass;r.validity.patternMismatch?r.setCustomValidity(r.dataset.errorMessage):r.setCustomValidity(""),r.validity.valid?function(e){var t=e.formElement,r=e.inputElement,n=e.inputErrorClass,o=e.errorClass,i=t.querySelector(".".concat(r.id,"-error"));r.classList.remove(n),i.classList.remove(o),i.textContent="",console.log(i)}({formElement:t,inputElement:r,inputErrorClass:n,errorClass:o}):function(e){var t=e.inputElement,r=e.inputErrorClass,n=e.errorClass,o=e.errorMessage,i=e.formElement.querySelector(".".concat(t.id,"-error"));i.textContent=o,t.classList.add(r),i.classList.add(n),console.log(i)}({formElement:t,inputElement:r,inputErrorClass:n,errorClass:o,errorMessage:r.validationMessage})}function s(e){var t=e.inputList,r=e.submitButtonElement,n=e.inactiveButtonClass;!function(e){return e.some((function(e){return!e.validity.valid}))}(t)?(r.disable=!1,r.classList.remove(n)):(r.disable=!0,r.classList.add(n))}var c,l,a,p,d,m,_,f=document.querySelector(".places__list"),v=document.querySelector(".popup_type_edit"),y=document.querySelector(".popup_type_new-card"),E=document.querySelector(".popup_type_image"),S=document.querySelectorAll(".popup"),C=document.querySelector(".popup__image"),q=document.querySelector(".popup__caption"),k=document.querySelector(".profile__edit-button"),b=document.querySelector(".profile__add-button"),L=document.querySelector(".profile__info"),g=L.querySelector(".profile__title"),h=L.querySelector(".profile__description"),x=(document.querySelector(".profile__image"),document.forms["edit-profile"]),B=x.name,j=x.description,w=document.forms["edit-avatar"],A=(w.querySelector(".popup__button"),w.avatar,document.querySelector(".popup_typt_edit-avatar"),document.forms["delete-card"],document.querySelector(".popup_type_confirm").querySelector(".popup__close"),document.forms["new-place"]),M=A["place-name"],D=A.link;function V(t){var r=t.name,n=t.link;C.src=n,C.alt=r,q.textContent=r,e(E)}A.querySelector(".popup__button"),A.addEventListener("submit",(function(e){!function(e){e.preventDefault(),f.prepend(n({name:M.value,link:D.value},i,V,o)),t(y),A.reset()}(e)})),b.addEventListener("click",(function(){e(y)})),k.addEventListener("click",(function(){j.value=h.textContent,B.value=g.textContent,e(v)})),x.addEventListener("submit",(function(e){!function(e){e.preventDefault(),document.querySelector(".profile__description").textContent=j.value,document.querySelector(".profile__title").textContent=B.value,t(v)}(e)})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){return f.append(n(e,i,V,o))})),S.forEach((function(e){e.classList.add("popup_is-animated"),e.querySelector(".popup__close").addEventListener("click",(function(){t(e)})),e.addEventListener("mousedown",(function(r){!function(e,r){e.target===e.currentTarget&&t(r)}(r,e)}))})),l=(c={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"}).formSelector,a=c.inputSelector,p=c.submitButtonSelector,d=c.inactiveButtonClass,m=c.inputErrorClass,_=c.errorClass,Array.from(document.querySelectorAll(l)).forEach((function(e){e.addEventListener("submit",(function(e){e.preventDefault()})),function(e){var t=e.formElement,r=e.inputSelector,n=e.submitButtonSelector,o=e.inactiveButtonClass,i=e.inputErrorClass,c=e.errorClass,l=Array.from(t.querySelectorAll(r)),a=t.querySelector(n);s({inputList:l,submitButtonElement:a,inactiveButtonClass:o}),l.forEach((function(e){e.addEventListener("input",(function(){u({formElement:t,inputElement:e,inputErrorClass:i,errorClass:c}),s({inputList:l,submitButtonElement:a,inactiveButtonClass:o})}))}))}({formElement:e,inputSelector:a,submitButtonSelector:p,inactiveButtonClass:d,inputErrorClass:m,errorClass:_})}))})();